<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Wed Feb 12 10:03:25 PST 2014 -->
<title>Config</title>
<meta name="date" content="2014-02-12">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Config";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Config.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/transitime/config/BooleanConfigValue.html" title="class in org.transitime.config"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/transitime/config/Config.ConfigException.html" title="class in org.transitime.config"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/transitime/config/Config.html" target="_top">Frames</a></li>
<li><a href="Config.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.transitime.config</div>
<h2 title="Class Config" class="title">Class Config</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.transitime.config.Config</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Config</span>
extends java.lang.Object</pre>
<div class="block">The Config class provides a way of handling parameters that
 can be updated without having to restart the application. The
 parameters can be access efficiently so that they can be accessed
 in loops that are frequently executed. This class is useful for
 parameters that are system wide and often have a default. Such
 params are not best stored in a database because with a db it
 can be harder to see what all the values are or to copy the values
 from one project to another. It can also be harder to keep track
 of changes when such params are in a database.
 
 An additional goal of Config is for all params to be processed
 when the XML file is read, both at startup and when file is reread.
 This is important because then if there are any processing
 problems those problems are noticed and must be dealt with
 immediately (instead of them occurring in an lazy fashion,
 perhaps when no one is available to deal with them). But this
 goal would mean that the params would need to be defined in 
 config files so they would all be dealt with at startup. For
 many situations want the params to be defined where they are used
 since that would make them easier to support. But then they wouldn't
 get initialized until the Java class is actually accessed.
 
 The params are configured in an XML file. Multiple XML files can be
 used. Each XML file should have a corresponding configuration class
 such as CoreConfig.java. In the XXXConfig.java class the params
 are specified along with default values.
 
 Multiple threads can read parameters simultaneously. The threads
 should call readLock() if it is important to update the parameters
 in a consistent way, such as when more than a single parameter
 are interrelated.
 
 In the future could use a different type of configuration file,
 such as a standard Properties file.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>SkiBu Smith</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/config/Config.ConfigException.html" title="class in org.transitime.config">Config.ConfigException</a></strong></code>
<div class="block">An exception for when a parameter is being read in</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/transitime/config/Config.html#Config()">Config</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.util.HashMap&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/config/Config.html#getConfigFileData()">getConfigFileData</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.util.ArrayList&lt;<a href="../../../org/transitime/config/ConfigValue.html" title="class in org.transitime.config">ConfigValue</a>&lt;?&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/config/Config.html#getConfigValuesList()">getConfigValuesList</a></strong>()</code>
<div class="block">So that the parameter classes can add created parameters to the
 list.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/config/Config.html#main(java.lang.String[])">main</a></strong>(java.lang.String[]&nbsp;args)</code>
<div class="block">For testing</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/config/Config.html#processConfig(java.lang.String)">processConfig</a></strong>(java.lang.String&nbsp;fileName)</code>
<div class="block">Processes config files.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/config/Config.html#readConfigFile(java.lang.String)">readConfigFile</a></strong>(java.lang.String&nbsp;fileName)</code>
<div class="block">Reads the specified XML file and stores the results into a HashMap configFileData.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/config/Config.html#readLock()">readLock</a></strong>()</code>
<div class="block">When reading config params should lock up the system so that data is
 consistent.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/config/Config.html#readUnlock()">readUnlock</a></strong>()</code>
<div class="block">Every time readLock() is called there needs to be a call to readUnlock().</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../org/transitime/config/Config.html#resetConfigFileData()">resetConfigFileData</a></strong>()</code>
<div class="block">If want to reread the config files then should first call
 this method so that all old data is wiped out.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Config()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Config</h4>
<pre>public&nbsp;Config()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getConfigValuesList()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConfigValuesList</h4>
<pre>public static&nbsp;java.util.ArrayList&lt;<a href="../../../org/transitime/config/ConfigValue.html" title="class in org.transitime.config">ConfigValue</a>&lt;?&gt;&gt;&nbsp;getConfigValuesList()</pre>
<div class="block">So that the parameter classes can add created parameters to the
 list.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getConfigFileData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConfigFileData</h4>
<pre>public static&nbsp;java.util.HashMap&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;&nbsp;getConfigFileData()</pre>
</li>
</ul>
<a name="readConfigFile(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readConfigFile</h4>
<pre>public static&nbsp;void&nbsp;readConfigFile(java.lang.String&nbsp;fileName)
                           throws <a href="../../../org/transitime/config/Config.ConfigException.html" title="class in org.transitime.config">Config.ConfigException</a></pre>
<div class="block">Reads the specified XML file and stores the results into a HashMap configFileData.
 The file is expected to be very simple. Attributes are ignored. Only
 values are used. The keys for the resulting HashMap are based on
 the XML tags and their nesting. So if one is setting a value of 75
 to a param with a key transitime.predictor.allowableDistanceFromPath 
 the XML would look like:
 <code>&lt;transitime&gt;
   &lt;predictor&gt;
     &lt;allowableDistanceFromPath&gt;
       75.0
     &lt;/allowableDistanceFromPath&gt;
   &lt;/predictor&gt;
 &lt;/transitime&gt;
 </code></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileName</code> - </dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/transitime/config/Config.ConfigException.html" title="class in org.transitime.config">Config.ConfigException</a></code></dd></dl>
</li>
</ul>
<a name="resetConfigFileData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetConfigFileData</h4>
<pre>public static&nbsp;void&nbsp;resetConfigFileData()</pre>
<div class="block">If want to reread the config files then should first call
 this method so that all old data is wiped out. Otherwise
 if a parameter is removed from config file would still
 be using its old value.</div>
</li>
</ul>
<a name="processConfig(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processConfig</h4>
<pre>public static&nbsp;void&nbsp;processConfig(java.lang.String&nbsp;fileName)
                          throws <a href="../../../org/transitime/config/Config.ConfigException.html" title="class in org.transitime.config">Config.ConfigException</a>,
                                 <a href="../../../org/transitime/config/ConfigValue.ConfigParamException.html" title="class in org.transitime.config">ConfigValue.ConfigParamException</a></pre>
<div class="block">Processes config files. Reads in data and stores it in the config
 objects so that it is programmatically accessible. Does a write
 lock so that readers will only execute when data is not being
 modified.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileName</code> - Name of the config file. If null then default
 values will be used for each parameter.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/transitime/config/Config.ConfigException.html" title="class in org.transitime.config">Config.ConfigException</a></code></dd>
<dd><code><a href="../../../org/transitime/config/ConfigValue.ConfigParamException.html" title="class in org.transitime.config">ConfigValue.ConfigParamException</a></code></dd></dl>
</li>
</ul>
<a name="readLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readLock</h4>
<pre>public static&nbsp;void&nbsp;readLock()</pre>
<div class="block">When reading config params should lock up the system so that data is
 consistent. This is a good idea because even though each individual
 param is atomic there could be situations where multiple interdependent
 params are being used and don't want a write to change them between
 access.
 
 The expectation is that the program is event driven. When an event
 is processed then a single call to readLock() and readUnlock() can
 protect the entire code where parameters might be read. The intent
 is not to read lock each single access of data.
 
 Every time readLock() is called there needs to be a corresponding call
 to readUnlock(). Since this important the readUnlock() should be in
 a finally block. For example:
 try {
     readLock();
     ...; // Read access the data
   } finally {
     readUnlock();
   }</div>
</li>
</ul>
<a name="readUnlock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readUnlock</h4>
<pre>public static&nbsp;void&nbsp;readUnlock()</pre>
<div class="block">Every time readLock() is called there needs to be a call to readUnlock().
 Since this is important the readUnlock() should be called in a finally 
 block. See readLock() for details.</div>
</li>
</ul>
<a name="main(java.lang.String[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<div class="block">For testing</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>args</code> - args[0] is name of file to be read in</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Config.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/transitime/config/BooleanConfigValue.html" title="class in org.transitime.config"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/transitime/config/Config.ConfigException.html" title="class in org.transitime.config"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/transitime/config/Config.html" target="_top">Frames</a></li>
<li><a href="Config.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
